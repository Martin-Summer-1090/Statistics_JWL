<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistics - 9&nbsp; Probability: Quantifying uncertainty and variabilility</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./probability_and_statistics.html" rel="next">
<link href="./how_sure_can_we_be.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./probability.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Probability: Quantifying uncertainty and variabilility</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistics</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><strong>Introduction</strong></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./categorical_data_and_proportions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Categorical Data and Proportions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summarizing_and_communicating_lots_of_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Summarizing and communicating lots of data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./from_limited_data_to_populations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">From limited data to populations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./what_causes_what.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">What causes what?</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelling_relationships_using_regression_part_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Modelling relationships: Points, Lines and Scatterplots</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelling_relationships_using_regression_part_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Modelling relationship: Prediction using regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./how_sure_can_we_be.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">How sure can we be about what is going on: Estimates and intervals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Probability: Quantifying uncertainty and variabilility</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability_and_statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Putting probability and statistics together</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./answering_questions_and_claiming_discoveries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Answering questions and claiming discoveries</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-are-the-chances" id="toc-what-are-the-chances" class="nav-link active" data-scroll-target="#what-are-the-chances"><span class="header-section-number">9.1</span> What are the chances?</a></li>
  <li><a href="#conditional-probability-when-probabilities-depend-on-other-events." id="toc-conditional-probability-when-probabilities-depend-on-other-events." class="nav-link" data-scroll-target="#conditional-probability-when-probabilities-depend-on-other-events."><span class="header-section-number">9.2</span> Conditional probability: When probabilities depend on other events.</a></li>
  <li><a href="#the-multiplication-rule" id="toc-the-multiplication-rule" class="nav-link" data-scroll-target="#the-multiplication-rule"><span class="header-section-number">9.3</span> The multiplication rule</a></li>
  <li><a href="#independence" id="toc-independence" class="nav-link" data-scroll-target="#independence"><span class="header-section-number">9.4</span> Independence</a></li>
  <li><a href="#listing-events" id="toc-listing-events" class="nav-link" data-scroll-target="#listing-events"><span class="header-section-number">9.5</span> Listing events</a></li>
  <li><a href="#the-addition-rule" id="toc-the-addition-rule" class="nav-link" data-scroll-target="#the-addition-rule"><span class="header-section-number">9.6</span> The addition rule</a></li>
  <li><a href="#what-is-the-connection-between-probability-and-statistics" id="toc-what-is-the-connection-between-probability-and-statistics" class="nav-link" data-scroll-target="#what-is-the-connection-between-probability-and-statistics"><span class="header-section-number">9.7</span> What is the connection between probability and statistics?</a></li>
  <li><a href="#what-is-the-role-of-probability-when-we-observe-everything" id="toc-what-is-the-role-of-probability-when-we-observe-everything" class="nav-link" data-scroll-target="#what-is-the-role-of-probability-when-we-observe-everything"><span class="header-section-number">9.8</span> What is the role of probability when we observe everything?</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">9.9</span> Exercises</a>
  <ul class="collapse">
  <li><a href="#exercises-1" id="toc-exercises-1" class="nav-link" data-scroll-target="#exercises-1"><span class="header-section-number">9.9.1</span> Exercises</a></li>
  <li><a href="#exercises-with-r" id="toc-exercises-with-r" class="nav-link" data-scroll-target="#exercises-with-r"><span class="header-section-number">9.9.2</span> Exercises with R</a></li>
  </ul></li>
  <li><a href="#project-people-count-the-future-of-humanity-in-pictures-and-numbers" id="toc-project-people-count-the-future-of-humanity-in-pictures-and-numbers" class="nav-link" data-scroll-target="#project-people-count-the-future-of-humanity-in-pictures-and-numbers"><span class="header-section-number">9.10</span> Project People count: The future of humanity in pictures and numbers</a>
  <ul class="collapse">
  <li><a href="#the-chances-of-finding-suitable-matches" id="toc-the-chances-of-finding-suitable-matches" class="nav-link" data-scroll-target="#the-chances-of-finding-suitable-matches"><span class="header-section-number">9.10.1</span> The Chances of finding suitable matches</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Probability: Quantifying uncertainty and variabilility</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>If you chose to study statistics and data analysis it comes natural at some stage, to also study probability. We already encountered some probability ideas in this course, although we did not treat them in any depth.</p>
<p>The first encounter was in unit 3 where we discussed the idea of random sampling from a population and learned how the simple fact that every individual or unit in the population has the same chance of ending up in the sample, if repeated long enough under similar conditions, such a sampling process leads to a good approximation of the variability in the population. The sample, in a way, gets a similar distributional shape as the population. Moreover, in the last unit, unit 5, by studying the bootstrap, we learned about the idea of quantifying how much variation in a summary statistics or in a prediction we would expect if we repeated the sampling many times and use the variability in the samples to express our uncertainty about the underlying characteristics in the population.</p>
<p>If we want to go on in statistics and its main idea from here we have to learn some probability theory. So let’s face this challenge right on. Many courses in statistics traditionally start with probability right away. We chose a different route here, following the insights of the great statistician <span class="citation" data-cites="Spi2019">Spiegelhalter (<a href="references.html#ref-Spi2019" role="doc-biblioref">2019</a>)</span> whose route of exposition of the subject we follow in our course.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Overview
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this unit you will learn about the <strong>probability theory</strong>. Probability theory is a mathematical framework to analyze and better understand situations of <strong>uncertainty</strong>.</p>
<p>While probability is a mathematical theory it gets practical value and intuitive meaning in connection with real or conceptual <strong>experiments</strong>, such as flipping a coin or throwing a dice.</p>
<p><strong>Chance</strong> or probability can be thought of as the percentage of times something is going to happen when the basic process or experiment is done over and over again, independently under idetical conditions.</p>
<p><strong>Probability theory</strong> describes probability by rules that probability has to obey to me a meaningful and useful theory of uncertainty.</p>
<p>Probability and Statistics are connected. In some situations the statistician is confronted with <strong>data that were gernerated by a random device</strong>, such as in a randomized controlled experiment, where individuals are randomly assigened to treatment and control group.</p>
<p>Often statisticians encounter also situations where data have been chosen by a random mechnism and this mechanism can be desribed and is kown to the statistician such as in surveys, that build on <strong>random samples</strong>.</p>
<p>Surprisingly, even if we know all the data, such as data from a register, and there are no knon random devices or random mechnisms involved, it can still be useful to conceptually thing about the variability in the data in terms of a <strong>probability distribution</strong>.</p>
</div>
</div>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Keywords
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Chance or probability</strong>: An intuitive understanding of what chance is is perhaps easiest if we think about chance as the percentage of times something happens, when the basic process is repeated many times independently and under the same conditions.</p>
<p><strong>Probabilities are between 0 and 1</strong>: Probabilities of things that could happen or events are numbers between 0 and 1, with 0 for impossible events and 1 for sure events.</p>
<p><strong>Complement rule</strong>: The probability of something - an event - equals 1 minus the probability of the thing - the event - not happening, i.e.&nbsp;the opposite thing.</p>
<p><strong>Multiplication rule</strong>: Probability rule 3: The probability that two things will both occur equals the chance that the first will happen multiplied by the chance that the second will happen given the first has happened.</p>
<p><strong>Independence</strong>: Two events are independent if the chances or the second given the first are the same no matter how the first one turns out. Otherwise two things are dependent.</p>
<p><strong>Multiplication rule for independent events</strong>: If two events are independent, the chance that both will happen equals the product of their unconditional probabilities. This is a special case of the multiplication rule.</p>
<p><strong>Addition rule</strong>: To find the chance that at least one of two things will happen check to see if they are mutually exclusive. If they are the chances can be added up.</p>
</div>
</div>
<p>Probability is first of all a mathematical theory. It gets practical value and intuitive meaning in connection with real or conceptual experiments. Indeed these fascinating interconnections are already visible in the very beginning of probability, which emerged in the 16th and 17th century in Europe in the context of practical as well as scholarly discussions about gambling. The analysis of games of chance are at the beginning of probability theory as a field of scientifc analysis. These discussions engaged the greatest minds of their times, with names like Gerolamo Cardano (1501-1576), Galileo Galilei (1564 - 1642), Blaise Pascal (1623-1662), Pierre Fermat (1601 - 1665), Christiaan Huyghens (1629 - 1695), Jacob Bernoulli (1654 - 1705), Abraham de Moivre (1667 - 1754), Thomas Bayes (1701 - 1761) and Pierre Simon de Laplace (1749 - 1825).</p>
<p>While people were aware of chance at all times, liked to gamble or even had a godess of chance like the Greeks, it seems only later it occurred to them that something as elusive as uncertainty or chance could perhaps be measured. This is the starting point for classical probability.</p>
<p>While probability is of immense practical value for dealing with uncertainty, many people find probability unintuitive and difficult. Don’t despair. This is very natural, since the human mind is not geard towards probabilistic thinking. Probability is indeed not something that comes to us naturally. It is a way of thinking that has to be learned and acquired through practice and training. With patience and endurance you also will master the basic rules of probability. With this additional skill you will grow in your competence as a statistician and data analyst.</p>
<section id="what-are-the-chances" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="what-are-the-chances"><span class="header-section-number">9.1</span> What are the chances?</h2>
<p>We talk loosely about chance all of the time. This is ok and it does no harm but for doing statistics and engaging in the science of quantifying uncertainty we need to give the term <strong>chance</strong> a definite and clear interpretation. This turns out to be hard. All the great minds referred to above, had struggled with this task.</p>
<p>As an intuitive guide, you might follow the idea to think of probability in terms of expected frequency. You ask yourself, what would happen, if I repeated this experiment a number of times. So for the purpose of this exposition let us think of chance in the following way:</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Chance
</div>
</div>
<div class="callout-body-container callout-body">
<p>The chance of something gives the percentage of time it is expected to happen, when the basic process is done over and over again, independently and under the same conditions.</p>
</div>
</div>
<p>Especially with the modern tool of the computer, we have a wonderful mechanism to experiment with such thoughts at very low cost. Let’s begin with a toy probability example: If you throw a coin twice, what would be the chance or probability of getting two heads?</p>
<p>This is a simple chance experiment we can visualize with a probability tree like this:</p>
<p><img src="pictures/coin_tree.png" class="img-fluid" alt="Probability Tree of two tosses of a fair coin"> You can read this tree as follows. The first coin flip takes place at the root of the tree. Then the coin comes up either Heads (H) or Tails (T). Then we throw the coin again and it can again turn up Heads or Tails. We get one of four possible outcomes in the end. We would like to understand what is the chance that it ends up at the upper branch with two heads in a row.</p>
<p>Let’s use R to think about this along the lines of the chance definition suggested before. If we toss a coin it can either come up heads or tails and we toss it twice. We can write a function that does that.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>flip_coin_twice <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  coin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"H"</span>, <span class="st">"T"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(coin, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">replace =</span> T)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The function first creates a coin by a vector of characters - heads H and tails T. Then the two random flips are modeled as a sample of size two from the coin. <code>sample()</code> will work like a random draw from <code>c("H", "T")</code>. Because the same coin is flipped twice it needs to be a draw with replacement.</p>
<p>To implement the expected frequency idea we now have to toss the coin many times, let’s say 10.000 times for the sake of this argument.</p>
<p>Here we can draw upon our iteration skills. We draw 10000 times and store each draw in an element of a list. This gives us 10000 pairs of either HH, HT, TH or TT in each of the 10000 list elements. <code>outcome</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="dv">10000</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)){</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  outcome[[i]] <span class="ot">&lt;-</span> <span class="fu">flip_coin_twice</span>()</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This outcome is a list with 10000 pairs of outcomes. We would now like to count the relative frequency of events showing two heads. There are many ways to do this but let us choose on that builds on our already acquired knowledge.</p>
<p>We bind all the elements of the list together in rows using the <code>do.call()</code> and the <code>rbind()</code> function and then make a dataframe out of the result using the function <code>as.data.frame()</code> and show the first few lines.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">do.call</span>(rbind,outcome))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2
1  H  H
2  T  H
3  H  H
4  T  T
5  T  T
6  H  H</code></pre>
</div>
</div>
<p>You see that R gave some generic names to the columns. You could change that by using the <code>names()</code>function.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#|code-fold: false</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(out) <span class="ot">&lt;-</span> c <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Flip1"</span>, <span class="st">"Flip2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now we can use our subsetting rules to count the rows with two heads. We just count the number of heads in the second flip for all heads in the first flip using logical subsetting. Then we sum up the cases:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> (out<span class="sc">$</span>Flip2[out<span class="sc">$</span>Flip1 <span class="sc">==</span> <span class="st">"H"</span>] <span class="sc">==</span> <span class="st">"H"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2555</code></pre>
</div>
</div>
<p>Of all the 10.000 double flips this is about 1/4ths. The chance is thus 25 % to see HH in an often identically repeated trial. This is intuitive when you look at the tree, with its four possible outcomes before the coin is drawn.</p>
<p>The early probability theorists thought of measuring probability or chance by considering such situations of equally probable cases and then count. There is 1 event HH in four ex ante possible events and thus, their reasoning was we measure the chance of HH as 0.25 or 25%.</p>
<p>Now no matter whether you use this classical idea of counting equally probable cases or looking at the relative frequency of repeated identical trials, this way of expressing chances means that chance or probability is a always a number between 0 and 1.</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Probability rule 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>The chance of an event is always a number between 0 and 1.</p>
</div>
</div>
<p>0 is the chance for impossible events and 1 for certain events. A zero chance event would for instance be in the coin tossing example that there is no tail in any outcome of flipping a coin twice. The probability that any of the four combinations will occur is 1.</p>
<p>Here is another basic property of chance. We just saw in the coin tossing example that the probability that two heads occur in a flip is 1/4. Since the probability of at least 1 tail is the probability of not heads twice, this leads to the <strong>complement rule</strong></p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Probability rule 2: Complement rule
</div>
</div>
<div class="callout-body-container callout-body">
<p>The probability of something equals 1 minus the probability of the opposite thing.</p>
</div>
</div>
<p>In the coin tossing example the probability of not having two heads is the same as the probability of at least having one tail and this is equal to <span class="math inline">\(1 - \frac{1}{4} = \frac{3}{4}\)</span>.</p>
</section>
<section id="conditional-probability-when-probabilities-depend-on-other-events." class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="conditional-probability-when-probabilities-depend-on-other-events."><span class="header-section-number">9.2</span> Conditional probability: When probabilities depend on other events.</h2>
<p>Here is an example from the book of David Spiegelhalter (see <span class="citation" data-cites="Spi2019">Spiegelhalter (<a href="references.html#ref-Spi2019" role="doc-biblioref">2019</a>)</span>, p 214): When screening for breast cancer, mammography is roughly 90% accurate. This means that 90% of women with cancer will be correctly detected and correctly classified. Suppose now that 1 % of women being screened actually have cancer: What is the probability that a randomly chosen woman will have a positive mammogram, and if she does, what is the chance that she really has cancer?</p>
<p>From a probability viewpoint, this example is different from the example of tossing a coin twice. In this example, the probability of showing heads is always the same no matter whether heads shows at the first or at the second flip.</p>
<p>Let’s think about the breast cancer screening again in terms of expected frequencies. A tree diagram symbolizing the expected frequencies might be helpful to digest this reasoning better:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/mammography.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Expected Frequency tree</figcaption>
</figure>
</div>
<p>Say we have 1000 women. Out of these 1000 1 % actually has in fact breast cancer. This is 10 women out of 1000. Of these 10, 90 % have a positive result. This amounts to 9 women. But out of the 990 women without cancer, the complementary 10 %, i.e.&nbsp;99 women, are falsely given a positive mammography result.</p>
<p>Together these are <span class="math inline">\(9 + 99 = 108\)</span> positive mammograms, and so the probability that a randomly chosen women will get a positive result is 108/1000 or about 11%. But of these 108 only 9 do in fact have cancer. And so there is only a 9/108 or 8% probability that the women actually have cancer.</p>
<p>Now some of you might realize, what I meant before when I said that probability is often not intuitive. Despite the 90 % accuracy of the scan, the vast majority of women with a positive mammography do not have cancer. This is, because we tend to confuse the conditional probability of a positive test, given cancer with the conditional probability of cancer given a positive test.</p>
<p>If you continue to study probability and statistics you will encounter mathematical notation that has been etsablished in the literature on probability. We do not want to spend much time with notation and mathematical symbols but here is a convention you should know about. In a mathematical treatment of the example, we just discussed mathematicians would write the probability for the mammography screening to be positive (or negative) by <span class="math inline">\(P(\text{positive})\)</span> (<span class="math inline">\(P(\text{negative})\)</span>), where <span class="math inline">\(P\)</span> is a shorthand for probability. The conditional probability that the mammography is positive given a woman has breast cancer will be written by the mathematical in the notation <span class="math inline">\(P(\text{positive} \, | \, \text{cancer})\)</span>. The vertical bar in this expression is to be read as <em>given</em>.</p>
</section>
<section id="the-multiplication-rule" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="the-multiplication-rule"><span class="header-section-number">9.3</span> The multiplication rule</h2>
<p>Let us think how we can figure out the chance that two events happen in terms of probability. Here is an example, we can try in R.</p>
<p>Assume there is a box with three tickets, colored red, white and blue.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>box <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"R"</span>, <span class="st">"W"</span>, <span class="st">"B"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now two tickets are drawn at random but <strong>without</strong> replacement. What is the chance of drawing the red and then the white ticket?</p>
<p>Imagine a huge crowd each draws two tickets. Say we have again 10000 people. Write a drawing function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>draw <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(box, <span class="dv">2</span>, <span class="at">replace =</span> F)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that this time we have set the replace argument to false, because we draw at random <strong>without</strong> replacement and this is how we tell R to follow such a drawing without replacement protocol.</p>
<p>Let’s check the frequency of people holding R, W tickets. Let’s simulate using the ideas from before:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#|code-fold: false</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>draws <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="dv">10000</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)){</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  draws[[i]] <span class="ot">&lt;-</span> <span class="fu">draw</span>()</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">do.call</span>(rbind, draws))</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(res) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Draw_1"</span>, <span class="st">"Draw_2"</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Draw_1 Draw_2
1      R      B
2      W      R
3      R      B
4      B      W
5      W      B
6      R      B</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> (res<span class="sc">$</span>Draw_2[res<span class="sc">$</span>Draw_1 <span class="sc">==</span> <span class="st">"R"</span>] <span class="sc">==</span> <span class="st">"W"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1615</code></pre>
</div>
</div>
<p>The relative frequency of such pairs is then about 0.1615.</p>
<p>Another way to think about this is as follows:</p>
<p>In the first draw about 1/3 will end up with a red ticket. The others will have either a white or a blue. Of this 1/3 half of the people will get a white ticket, i.e.&nbsp;1/2 of 1/3 or: $* = . So with our simulated crowd of <span class="math inline">\(10000\)</span> or 10.0000 people 1666.7 will have a R and a W ticket.</p>
<p>The conditional probability of a white ticket, given a red ticket has been drawn with replacement is 1/2. Still another way to understand this in terms of expected frequencies is as follows. Think of our simulated dataframe <code>res</code> as a notebook, where you record the outcome of any draw.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(res, <span class="at">n =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Draw_1</th>
<th style="text-align: left;">Draw_2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">R</td>
<td style="text-align: left;">B</td>
</tr>
<tr class="even">
<td style="text-align: left;">W</td>
<td style="text-align: left;">R</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R</td>
<td style="text-align: left;">B</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: left;">W</td>
</tr>
<tr class="odd">
<td style="text-align: left;">W</td>
<td style="text-align: left;">B</td>
</tr>
<tr class="even">
<td style="text-align: left;">R</td>
<td style="text-align: left;">B</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B</td>
<td style="text-align: left;">R</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: left;">W</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R</td>
<td style="text-align: left;">B</td>
</tr>
<tr class="even">
<td style="text-align: left;">W</td>
<td style="text-align: left;">B</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The chance to draw R on the first draw is 1/3. But since there is no replacement, drawing a W together with an R is the relative frequency of W among all the cases where R has been drawn first.</p>
<p>To see this, look first at:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(res<span class="sc">$</span>Draw_1 <span class="sc">==</span> <span class="st">"R"</span>)<span class="sc">/</span><span class="dv">10000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3287</code></pre>
</div>
</div>
<p>This about 1/3.</p>
<p>Now the probability of choosing a W given an R has been chosen before without replacement is:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(res<span class="sc">$</span>Draw_2[res<span class="sc">$</span>Draw_1 <span class="sc">==</span> <span class="st">"R"</span>] <span class="sc">==</span> <span class="st">"W"</span>)<span class="sc">/</span><span class="fu">sum</span>(res<span class="sc">$</span>Draw_1 <span class="sc">==</span> <span class="st">"R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4913295</code></pre>
</div>
</div>
<p>This is the number of all cases where W showed on the second draw, given the first draw was R, divided by all cases where the first draw was red.</p>
<p>This leads us to the next important rule of probability:</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Probability rule 3: Multipliction rule
</div>
</div>
<div class="callout-body-container callout-body">
<p>The chance that two things will both occur equals the chance that the first will happen multiplied by the chance that the second will happen <strong>given</strong> the first has happened.</p>
</div>
</div>
</section>
<section id="independence" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="independence"><span class="header-section-number">9.4</span> Independence</h2>
<p>This discussion of the multiplication rule immediately leads to the idea of independence, an idea used very often in statistical data analysis and modelling.</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Probability rule 4: Independence
</div>
</div>
<div class="callout-body-container callout-body">
<p>Two events are independent if the chances or the second given the first are the same no matter how the first one turns out. Otherwise two things are dependent.</p>
</div>
</div>
<p>In the coin tossing example we had a situation of independence. Why? Because when we flip the coin once, the chance that it turns up heads is 1/2. If it comes up heads and we flip it again the chance is 1/2 that it turns up heads. If it comes up tails the chance that it turns up heads on the second flip is still 1/2. So no matter what happened in the first coin flip the chances for the outcome of the second coin flip are unchanged.</p>
<p>We can check this again computationally:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># flip the coins</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="dv">10000</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)){</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  outcome[[i]] <span class="ot">&lt;-</span> <span class="fu">flip_coin_twice</span>()</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># pack result of computation into dataframe</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">do.call</span>(rbind, draws))</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(out) <span class="ot">&lt;-</span> c <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Flip1"</span>, <span class="st">"Flip2"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="co"># probability of head on the first flip with 10000 flips:</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(out<span class="sc">$</span>Flip1 <span class="sc">==</span> <span class="st">"H"</span>)<span class="sc">/</span><span class="dv">10000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4986</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># conditional probability that the second flip will be heads given the first flip was heads</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(out<span class="sc">$</span>Flip2[out<span class="sc">$</span>Flip1 <span class="sc">==</span> <span class="st">"H"</span>] <span class="sc">==</span> <span class="st">"H"</span>)<span class="sc">/</span><span class="fu">sum</span>(out<span class="sc">$</span>Flip1 <span class="sc">==</span> <span class="st">"H"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5124348</code></pre>
</div>
</div>
<p>They are both about 1/2.</p>
<p>Thus when we draw at random with replacements we get independent draws, when we draw at random without replacement we get dependent draws.</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Probability rule 5: Multiplication rule for independent events
</div>
</div>
<div class="callout-body-container callout-body">
<p>If two events are independent, the chance that both will happen equals the product of their unconditional probabilities. This is a special case of the multiplication rule.</p>
</div>
</div>
</section>
<section id="listing-events" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="listing-events"><span class="header-section-number">9.5</span> Listing events</h2>
<p>When trying to figure out chances, it is often helpful to list all possible ways a chance process can turn out. For example, imagine a simple game of chance where we throw two six sided dice What is the chance that both dice will show a six?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/dice_two_six.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Two sixes</figcaption>
</figure>
</div>
<p>First of all think about how many ways the first die can fall? These are six ways.</p>
<p><img src="pictures/dice_row.png" class="img-fluid" alt="Six ways for the dice to fall"> When the first die shows 1 there is still 6 possible ways ow the second die can fall:</p>
<p><img src="pictures/dice_combinations_1.png" class="img-fluid" alt="Dice combinations with 1"> If we list all the ways the combinations of the two dies can turn out we get the following figure</p>
<p><img src="pictures/dice_combinations_full.png" class="img-fluid" alt="All possible combinations of rolling two dice"> These are 36 combinations. There is only one in which both dies show a six. Thus the chance of showing two six is 1/36.</p>
<p>Note that this fact could also have been worked out by the multiplication rule. Since the tosses of the dice are independent and the chance of getting a six must be <span class="math inline">\(\frac{1}{6}\)</span> by the multiplication rule the chance that both show six is <span class="math inline">\(\frac{1}{6} \times \frac{1}{6} = \frac{1}{36}\)</span></p>
<p>You could ask other questions. If we throw the pair of dice, what is the chance that we get a spot sum of four? From the figure of all combinations, you can see that this must be 3 in 36 or 1/12. Reasoning like this leads us to the next idea of computaing with chances.</p>
</section>
<section id="the-addition-rule" class="level2" data-number="9.6">
<h2 data-number="9.6" class="anchored" data-anchor-id="the-addition-rule"><span class="header-section-number">9.6</span> The addition rule</h2>
<p>In this section we discuss the chance that at least one of two things will happen: Either the first happens, or the second or both. The possibility that both can happen requires some cair in accounting for the chances.</p>
<p>If the possibility that both happen can be ruled out we speak of the things as beeing <strong>mutually exclusive</strong>.</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Mutually exclusive
</div>
</div>
<div class="callout-body-container callout-body">
<p>Two things are mutually exclusive when the occurence of one prevents the occurence of the other: one excludes the other.</p>
</div>
</div>
<p>With this notion we can state another</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Probability rule 6: Addition rule
</div>
</div>
<div class="callout-body-container callout-body">
<p>To find the chance that at least one of two things will happen check to see if they are mutually exclusive. If they are the chances can be added up</p>
</div>
</div>
<p>For example in the case of tossing a coin twice the chance to see at least one head is <span class="math inline">\(\frac{3}{4}\)</span> because it comprises two heads or head and tail or tail and head. Clearly the three cases are mutually exclusive.</p>
<p>If you want to find the chance that at least one event occurs and the events are not mutually exclusive do not add the chances. The sum will be too big, because the same events will be accounted for twice. With mutually exclusive events, no double counting can occur.</p>
<p>Let us summarize the rules of probability we have introduced here in a table once again.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
A rules of probability cheat sheet
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><strong>Probabilities are between 0 and 1</strong>: Probabilities of things that could happen or events are numbers between 0 and 1, with 0 for impossible events and 1 for sure events.</p></li>
<li><p><strong>Complement rule</strong>: The probability of something - an event - equals 1 minus the probability of the thing - the event - not happening, i.e.&nbsp;the opposite thing.</p></li>
<li><p><strong>Multiplication rule</strong>: Probability rule 3: The probability that two things will both occur equals the chance that the first will happen multiplied by the chance that the second will happen given the first has happened.</p></li>
<li><p><strong>Independence</strong>: Two events are independent if the chances or the second given the first are the same no matter how the first one turns out. Otherwise two things are dependent.</p></li>
<li><p><strong>Multiplication rule for independent events</strong>: If two events are independent, the chance that both will happen equals the product of their unconditional probabilities. This is a special case of the multiplication rule.</p></li>
<li><p><strong>Addition rule</strong>: To find the chance that at least one of two things will happen check to see if they are mutually exclusive. If they are the chances can be added up.</p></li>
</ol>
</div>
</div>
<p>These are the fundamental properties of probability and you should know these properties by heart. From a viewpoint of pure logic and deductive reasoning these rules can be reduced basically to 1. and 3. and all other properties derived from that by the rules of logic. This is an approach you might encounter later in your studies if you take a course in mathematical probability.</p>
<p>You might have noticed that we have defined the properties of probabilities only in terms of what probabilities can do. While we said that thinking in relative frequencies of events happening when some experiment is repeated many times under similar conditions helps the intuition we did not actually say that this <strong>is</strong> probability, although of course the relative frequency definition does fulfill all of our rules.</p>
<p>But what then is probability anyway? Experts still disagree on this question and there are many debates about this still going on. Fortunately as a practical data analyst or statistician you do not have to agree with any of the specific interpretations. Statisticians often act as if the observations they make are random, even when this not strict true.</p>
</section>
<section id="what-is-the-connection-between-probability-and-statistics" class="level2" data-number="9.7">
<h2 data-number="9.7" class="anchored" data-anchor-id="what-is-the-connection-between-probability-and-statistics"><span class="header-section-number">9.7</span> What is the connection between probability and statistics?</h2>
<p>Why have I dragged you through these abstract properties we would like to attribute to chance and uncertainty at all? Why did we manage to get through five units of material without any of this and now suddenly need it?</p>
<p>One situation where probability comes into play for the statistician in a natural way when we have data, that could be considered as generated from some random device. An example is to use a random mechanism - flipping a coin, throwing a dice - to allocate individuals to treatment and control groups in a controlled randomized trial.</p>
<p>In practice we may often encounter the situation where a pre-existing datapoint is chosen by a random mechanism, such as in a data sample of a survey.</p>
<p>Even more often we will have situations where there is no randomness at all. There are just observed data-points and we assume that these data have been generated by some random mechanism, like in the case of the human height data we analyzed in previous units.</p>
<p>The relevance of probability is clear for the first two situations. With a randomizing device we assume that we can enlist all the possible outcomes that might potentially be observed and we can attach chances or probabilities to these outcomes - for example 1/2 for a fair coin coming up Heads. When we attach to each of these outcomes some quantity, for example 1 for heads and 0 for tails, probability theorists say that we have a <strong>random variable</strong> with a probability distribution. The randomizing device is such that it is ensured that the observation is generated at random from this distribution. When it is observed the randomness is resolved and there is only the actual outcome.</p>
<p>Also, if we draw draw an individual at random - like in a survey - and measure their height, then we have drawn from a population distribution of heights at random.</p>
</section>
<section id="what-is-the-role-of-probability-when-we-observe-everything" class="level2 page-columns page-full" data-number="9.8">
<h2 data-number="9.8" class="anchored" data-anchor-id="what-is-the-role-of-probability-when-we-observe-everything"><span class="header-section-number">9.8</span> What is the role of probability when we observe everything?</h2>
<p>There are lots of data where we have a complete record as it is often the case with administrative registers. In this case there is no sampling involved and there is also no randomization which splits the data into control and treatment group. The numbers are just facts from a complex and sometimes cruel reality.</p>
<p>Surprisingly, it still can be useful to think about these complete data in terms of a probability distribution.</p>
<div class="page-columns page-full"><p>As an example, I would like to use here a car accident data register of the US recording the accident deaths per day at the level of US states.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;The data we are using are retrieve from the US national center for statistics and analysis NCSA and we are using the data 2017 - 2021 from the Fatality Analysis Reporting System (FARS). Website: https://cdan.dot.gov/ Data: https://www.nhtsa.gov/file-downloads?p=nhtsa/downloads/FARS/. The reason why we chose this site is simply because the NCSA makes the data available in an easily accessible and public form. Those of you who are interested can find these data in the JWL library. The dataset is called: <code>car_accidents_us</code></p></li></div></div>
<p>Based on the accidents statistics, you could ask about how likely it is to encounter a rare event of unusually many accidents occurring at once. Knowing such things may be very useful for emergency planning and provisioning of infrastructure to deal with such fatalities.</p>
<p>Thinking about extreme events in terms of probability requires some leap of the mind. It might be useful to imagine that at the start of each day there is a large population of people, each of whom has a very small probability of dying in a car accident at this very day. For the sake of the example, let us look at the US State of Alabama, which has a total population of about 5 Million people.</p>
<div class="page-columns page-full"><p>Statisticians and Data practicioners in the administartion, the military and at universities have found that data of this kind - data where each individual has a very small probability of beeing hit by a risk in a large population of people - can be represented as observations from a so called <strong>Poisson Distribution</strong>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> Poisson worked with this probability distribution to represent the pattern of wrongful convictions by the criminal courts of France at his time.</p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;This is a short bio from Wikipedia: Baron Siméon Denis Poisson (21 June 1781 – 25 April 1840) was a French mathematician and physicist who worked on statistics, complex analysis, partial differential equations, the calculus of variations, analytical mechanics, electricity and magnetism, thermodynamics, elasticity, and fluid mechanics. Moreover, he predicted the Poisson spot in his attempt to disprove the wave theory of Augustin-Jean Fresnel, which was later confirmed. <img src="pictures/poisson.jpg" class="img-fluid" alt="Siméon Denis Poisson"> </p></li></div></div>
<p>Whereas the normal distribution needs two parameters, the population mean and the population standard deviation, the Poisson distribution depends only on the mean.</p>
<p>In our case the expected number of deaths from a car accident each day in the US state of Alabama is according to the FARS register data is about 2 (2.27). Now let us check the assumption that these accident cases are reasonably modelles by a Poission distribution by looking at the data.</p>
<p>We could ask ourselves what, according to this model, would be the probability that at a day we have 5 instead of 2 deaths from car accidents:</p>
<p>For example just knowing this average and making the assumption that the daily number of death from car accidents in Alabama was distributed like a Poisson distribution, using a software package like R we would compute this probability as:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dpois</span>(<span class="dv">5</span>, <span class="at">lambda =</span> <span class="fl">2.27281</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.05206736</code></pre>
</div>
</div>
<p>So according to the model, this probability is 0.05. Now we could ask ourselves, of this was the probability, how many days should we observe in the data that have such a high live toll in this area?</p>
<p>This would be <span class="math inline">\(0.05206736\)</span> times the number of days, which is in our case 2192 days. This is equal to roughly 114 days.</p>
<p>Now I take the real data and ask: How many days are there in my data where Alabama recorded 5 car deaths in a day in all of these 2192 days. Astonishingly the data record 119 such days.</p>
<p>Isn’t this amazing? Think about it, from the knowledge of a mean and a mathematical assumption and a thought experiment we came very close to the actual numbers.</p>
<p>Here we show two histograms of the data in one plot, where we lay out the expected distribution according to the model and the observed distribution from the data side by side.</p>
<p><img src="pictures/accidents_exp_obs.png" class="img-fluid" alt="Observed and expected deaths from car accidents assuming a Poisson distribution."> In this figure we see a comparison of the expected distribution of the number of deaths in car accidents in Alabama based on the assumption of the Poisson distribution over the 2292 days. Next to it we have the actual distribution we find in the data. The match is not perfect but astonishingly close.</p>
<p>Thus we can make estimates in this case. If for instance you would ask, what is the probability that you get 9 or more deaths from carr accidents in a day this would be 0.01 percent. We can expect that such an event thus happens every 7637 days or every 20 years. This is very unlikely under the given circumstance but it is not impossible.</p>
<p>The fit of the theoretical distribution with the data is surprisingly good. Each individual death in a car accident is a tragic story for the individual, his friends and family and in the case of these individuals entirely unpredictable. The data look like if they had been generated by a random mechanism.</p>
<p><span class="citation" data-cites="Spi2019">Spiegelhalter (<a href="references.html#ref-Spi2019" role="doc-biblioref">2019</a>)</span> makes the following suggests that we might think of this as if there were many possible worlds that could have occured in principle. There might have been other people dying in a car accident in Alabama, but the didn’t. It is just as if when we flip a coin we observe one of many possible sequences of heads and tails.</p>
<p>We do not have to believe that events in the world are driven by pure chance. But the assumption that there is something like chance, encapsulates the uncertainty and unpredictablity of the world. This is sometimes also referred to as <em>natural variablility</em></p>
<p>Probability thus provides a mathematical framework for thinking both about pure chance, which occurs when we can use random devices. But it can also be a good and useful framework when we think about natural variablity, such as human height and other anthropometric data, accidents, survival after surgery, grading outcomes and everything else that is not entirely predictable.</p>
</section>
<section id="exercises" class="level2" data-number="9.9">
<h2 data-number="9.9" class="anchored" data-anchor-id="exercises"><span class="header-section-number">9.9</span> Exercises</h2>
<section id="exercises-1" class="level3" data-number="9.9.1">
<h3 data-number="9.9.1" class="anchored" data-anchor-id="exercises-1"><span class="header-section-number">9.9.1</span> Exercises</h3>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 1: Match the numerical and verbal answers
</div>
</div>
<div class="callout-body-container callout-body">
<p>A computer is programmed to compute various chances. Match the numerical answers with the verbal descripitions (which may b e used more than once).</p>
<table class="table">
<colgroup>
<col style="width: 7%">
<col style="width: 19%">
<col style="width: 7%">
<col style="width: 65%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: right;">Numerical answer</th>
<th style="text-align: right;"></th>
<th style="text-align: right;">Verbal description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">(a)</td>
<td style="text-align: right;">-50 %</td>
<td style="text-align: right;">(i)</td>
<td style="text-align: right;">This is as likely to happen as not</td>
</tr>
<tr class="even">
<td style="text-align: center;">(b)</td>
<td style="text-align: right;">0 %</td>
<td style="text-align: right;">(ii)</td>
<td style="text-align: right;">This is very likely to happen but it is not certain</td>
</tr>
<tr class="odd">
<td style="text-align: center;">(c)</td>
<td style="text-align: right;">10 %</td>
<td style="text-align: right;">(iii)</td>
<td style="text-align: right;">This won’t happen</td>
</tr>
<tr class="even">
<td style="text-align: center;">(d)</td>
<td style="text-align: right;">50 %</td>
<td style="text-align: right;">(iv)</td>
<td style="text-align: right;">This may happen, but it is not likely</td>
</tr>
<tr class="odd">
<td style="text-align: center;">(e)</td>
<td style="text-align: right;">90 %</td>
<td style="text-align: right;">( v)</td>
<td style="text-align: right;">This will happen for sure</td>
</tr>
<tr class="even">
<td style="text-align: center;">(f)</td>
<td style="text-align: right;">100 %</td>
<td style="text-align: right;">(vi)</td>
<td style="text-align: right;">There’s a b ug in the program</td>
</tr>
<tr class="odd">
<td style="text-align: center;">(g)</td>
<td style="text-align: right;">200 %</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 2: Which box is better?
</div>
</div>
<div class="callout-body-container callout-body">
<p>One hundered tickets will be drawn at random with replacement from one of the two boxes shown below. On each draw, you will be paid the amount shown on the ticket, money. Which box is better and why?</p>
<p>Box 1: [ (1), (2) ] Box 2: [ (1), (3) ] The [] symbolizes the box and () symbolizes the tickets and the number in () is what is shown on the ticket.</p>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 3: What are the chances?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Two tickes are drawn at random from the box [(1), (2), (3), (4) ]</p>
<ol type="1">
<li>What is the chance that the second tickt is 4 if the draws are without replacement?</li>
<li>What is the chance that the second ticket is 4, given the first is 2 if the draws are without replacmenet?</li>
<li>What is the chance that the second tickt is 4 if the draws are with replacement?</li>
<li>What is the chance that the second tickt is 4 if the draws are with replacement?</li>
</ol>
<p>Hint: It will help figuring out the answer if you draw an event tree.</p>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercies 4: Rolling a die
</div>
</div>
<div class="callout-body-container callout-body">
<p>A die is rolled three times.</p>
<ol type="a">
<li><p>Find the chance that the first roll is a 1</p></li>
<li><p>Find the chance that first roll is a 1 and the second roll is a 2 and the third roll is a 3.</p></li>
</ol>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 5: Tossing coins
</div>
</div>
<div class="callout-body-container callout-body">
<p>A coin is tossed three times-</p>
<ol type="1">
<li>What is the chance of getting 3 heads?</li>
<li>What is the chance of not getting 3 heads?</li>
<li>What is the chance of getting at least 1 tail.</li>
<li>What is the chance of getting at least one head?</li>
</ol>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 6: The lost ticket
</div>
</div>
<div class="callout-body-container callout-body">
<p>Two draws are are made at random without replacement from the box [(1), (2), (3), (4)]. The first ticket is lost, an nobody knows what was written on it. True or false and explain: The two draws are independent.</p>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 7: Claims about age
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the first project work back in unit 1 we learned from the population data that 50 % of the population in Kenya in 2022 were female (you can check it out at your next computer session). Also 5 % of the population was age group 60 and above.</p>
<p>True of false and explain: The percentage of the population consisting of women age 60 and above is 50 % of 5 % or 0.5 * 0.05 or 2.5 %</p>
</div>
</div>
</section>
<section id="exercises-with-r" class="level3" data-number="9.9.2">
<h3 data-number="9.9.2" class="anchored" data-anchor-id="exercises-with-r"><span class="header-section-number">9.9.2</span> Exercises with R</h3>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Simulating the game of Craps
</div>
</div>
<div class="callout-body-container callout-body">
<p>Craps is a dice game, where you throw two dice and bet on the outcome of the throws. Write a code that throws two dice and sums up their number and simulate repeating these throws many times.</p>
<p>What is the most likely outcome in terms of the sum of points the dice show when thrown many times? Can you explain why this is the most likely outcome?</p>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 2: Tossing coins by simulation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Write a simulation to find out the answers to pen and paper exercise 5:</p>
</div>
</div>
</section>
</section>
<section id="project-people-count-the-future-of-humanity-in-pictures-and-numbers" class="level2" data-number="9.10">
<h2 data-number="9.10" class="anchored" data-anchor-id="project-people-count-the-future-of-humanity-in-pictures-and-numbers"><span class="header-section-number">9.10</span> Project People count: The future of humanity in pictures and numbers</h2>
<section id="the-chances-of-finding-suitable-matches" class="level3" data-number="9.10.1">
<h3 data-number="9.10.1" class="anchored" data-anchor-id="the-chances-of-finding-suitable-matches"><span class="header-section-number">9.10.1</span> The Chances of finding suitable matches</h3>
<p>Take the population data of Kenya, Japan and the United States by loading these data from the <code>JWL</code> library.</p>
<ol type="1">
<li><p>Based on the data how would you assess the chance that you will meet a boy or a girl in your own age group, when you live in Kenya in the US or in Japan?</p></li>
<li><p>Suppose 25 % of the boys and 20 % of the girls in these countries who are in your age group are interested in studying statistics. How large is the chance to find another girl with whom you could study together, if you are a girl. How high is the chance to find another boy to study together, if you are a boy.</p></li>
<li><p>How would you asses the chance in these three countries to meet a person older than 85 years?</p></li>
</ol>
<!-- # Contents -->
<!-- Probability theory provides a formal language and mathematics for dealing with  -->
<!-- chance phenomena. Probability is often counter intuitive but using the idea of  -->
<!-- expected frequency improves intuition. Probability ideas can be very useful  -->
<!-- in statistics even if there is no explicit use of a randomizing mechanism.  -->
<!-- Many social phenomena show a remarkable regularity in their overall pattern  -->

<!-- while individual events are entirely unpredictable. -->
<!-- # Outcome -->
<!-- Students should learn the simplest and most basic facts about probability as  -->
<!-- a language to quantify uncertainty, the most important rules to manipulate  -->
<!-- probability as well as the concept of conditional probability. -->


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-Spi2019" class="csl-entry" role="listitem">
Spiegelhalter, David. 2019. <em>The Art of Statistcis: Learning from Data</em>. Pelican Books.
</div>
</div>
</section>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./how_sure_can_we_be.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">How sure can we be about what is going on: Estimates and intervals</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./probability_and_statistics.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Putting probability and statistics together</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>